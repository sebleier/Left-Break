{% extends "base.html" %}
{% block scripts %}
{{ block.super }}
<script type="text/javascript">
     function initialize() {
        point = new google.maps.LatLng(35.140897, -120.646306);
        var myOptions = {
            zoom: 5,
            mapTypeId: google.maps.MapTypeId.TERRAIN,
            center: point
        };
        map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
        if(navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
                point = new google.maps.LatLng(position.coords.latitude,position.coords.longitude);
                map.setCenter(point);
            }, function() {});
        }

        // Get border data
        $.getJSON("/borders/", function(data) {
            var lines = []
            // Boundaries
            for(var i = 0; i < data.length; i++) {
                var points = [];
                // Points for the boundaries
                for (var j = 0; j < data[i].length; j++) {
                    point = new google.maps.LatLng(data[i][j][1], data[i][j][0]);
                    points.push(point);
                }
                lines.push(new google.maps.Polyline({
                    'path': points,
                    'strokeColor': '#0000ff',
                    'strokeWeight': 1,
                    'strokeOpacity': .9,
                    'map': map
                }));
            }
        });

        // Get Buoy data
        $.getJSON("/buoys/", function(data) {
            for (var i = 0; i < data.length; i++) {
                point = new google.maps.LatLng(data[i].coords[1], data[i].coords[0]);
                // render

            }
            point = new google.maps.LatLng(35.140897, -120.646306);
        });

     }
</script>
{% endblock %}
{% block styles %}
    {{ block.super }}
    <style>
        body { margin: 0px; }
        #wrapper { position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-color: #000; }
    </style>
{% endblock %}
{% block body_id %}homepage{% endblock %}">
{% block extra_body%}onload="initialize()"{% endblock %}
{% block body %}
<div id="wrapper">
    <div id="map_canvas" style="width:100%; height:100%"></div>
</div>
{% endblock %}
